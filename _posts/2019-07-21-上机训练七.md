---
layout: post
title: '上机训练七——栈'
date: 2019-07-21
author: gyx
color: rgb(255,0,255)
tags: '上机训练'
---

### 例题一 括号匹配

题目描述
>在某个字符串（长度不超过 100）中有左括号、右括号和大小写字母；规定 （与常见的算数式子一样）任何一个左括号都从内到外与在它右边且距离最近的 右括号匹配。写一个程序，找到无法匹配的左括号和右括号，输出原来字符串， 并在下一行标出不能匹配的括号。不能匹配的左括号用"$"标注,不能匹配的右括 号用"?"标注. 

输入：
>输入包括多组数据，每组数据一行，包含一个字符串，只包含左右括号和大 小写字母，字符串长度不超过 100

输出：
>对每组输出数据，输出两行，第一行包含原始输入字符，第二行由"$","?" 和空格组成，"$"和"?"表示与之对应的左括号和右括号不能匹配

样例输入：
>)(rttyy())sss)( 

样例输出：
>)(rttyy())sss)( 
>?         ?$

```c
#include<stdio.h>
#include<stack>
using namespace std;
stack<int> S;//定义一个堆栈
char str[110];//保存输入字符串
char ans[110];//保存输出字符串
int main(){
	while(scanf("%s",str)!=EOF){
		int i;
		for(i=0;str[i]!=0;i++){
			if(str[i]=='('){
				//若遇到左括号
				S.push(i);//将其数组下标放入栈中
				ans[i]=' ';//暂且将对应的输出字符串位置改为空格 
			}else if(str[i]==')'){
				//若遇到右括号
				if(S.empty()==false){
					//若此时堆栈非空4
					S.pop();//栈顶位置的左括号与其匹配，从栈中弹出该已经匹配的左括号
					ans[i]=' ';//修改输出中该位置为空格 
				} 
				else{
					ans[i]='?';//若堆栈为空，则无法找到匹配的左括号，输出改为？ 
				} 
			} else ans[i]=' ';//若为其他字符，输出改为空格 
		}
		while(!S.empty()){//当字符遍历完成后尚留在推展中的左括号无法匹配
			ans[S.top()]='$';//修改其在输出中的位置为￥ 
			S.pop();//弹出 
			
		} 
		ans[i]=0;//为了使输出形成字符串，在其最后一个字符后添加一个空字符
		puts(str);
		puts(ans); 
	}
	return 0;
} 
```



